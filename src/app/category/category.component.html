<div class="category">
  <h3 class="section-header">Category</h3>
  <form>
    <!-- add new category -->
    <div class="form-row" id="add">
      <div class="form-group col-12 mb-0">
        <label for="add" class="form-control-plaintext pl-2">Add category</label>
      </div>
      <div class="form-group col-8 col-md-9 col-lg-10">
        <input type="text" class="form-control form-control-lg" placeholder="Add a new Category">
      </div>
      <div class="form-group col-4 col-md-3 col-lg-2">
        <button class="btn btn-primary btn-block"><i class="fa fa-plus"></i></button>
      </div>
    </div>

    <!-- filter categories -->
    <div class="form-group" id="search">
      <label for="search">Search categories</label>
      <input type="text" class="form-control form-control-lg" placeholder="Search for existing categories">
    </div>

    <ul class="list-unstyled form-row">
      <li class="col-12 col-xl-6" *ngFor="let category of filteredCategories">
        <div class="card text-center" id="category-{{filteredCategories.indexOf(category)}}">
          <!-- category icon -->
          <i class="fa fa-exclamation-triangle fa-8x text-silhouette"></i>
          <!-- category name -->
          <h2 [hidden]="category.editing">{{category.category}}</h2>
          <input type="text" class="form-control text-center" value="{{category.category}}"
          [hidden]="!category.editing" [autofocus]="category.editing">
          <hr>
          <!-- change the category name -->
          <div class="form-row text-center">
            <div class="col text-right text-primary" [ngClass]="category.editing?'hide':'show'">
              <button class="btn btn-outline-primary rounded-circle" (click)="activate(category)">
                <i class="fa fa-lg fa-pencil"></i>
              </button>
            </div>
            <!-- update the category -->
            <div class="col text-center text-primary" [ngClass]="category.editing?'show':'hide'">
              <button class="btn btn-outline-success rounded-circle" (click)="update(category)">
                <i class="fa fa-lg fa-check"></i>
              </button>
            </div>
            <!-- delete the category -->
            <div class="col text-left text-danger" [ngClass]="category.editing?'hide':'show'">
              <button class="btn btn-outline-danger rounded-circle" (click)="delete(category)">
                <i class="fa fa-lg fa-minus"></i>
              </button>
            </div>
          </div>
        </div>
      </li>
    </ul>

    <ul class="list-unstyled" [hidden]="true">
      <li *ngFor="let category of filteredCategories" class="card">
        <div class="form-row" id="search-result">
          <!-- name of category -->
          <div class="form-group col-8 col-sm-8 col-md-8 text-center">
            <input type="text" class="form-control" value="{{category.category}}"
            [readOnly]="!category.editing">
          </div>
          <!-- enable category for editing -->
          <div class="form-group col-2 col-sm-2 col-md-2 text-center" [ngClass]="category.editing?'hide':'show'">
            <button class="btn btn-primary btn-block btn-sm" (click)="activate(category)">
              <span class="fa fa-pencil-square-o"></span>
            </button>
          </div>
          <!-- delete the category -->
          <div class="form-group col-2 col-sm-2 col-md-2" [ngClass]="category.editing?'hide':'show'">
            <button class="btn btn-danger btn-block btn-sm" (click)="delete(category)">
              <span class="fa fa-ban"></span>
            </button>
          </div>
          <!-- updates the change made to category -->
          <div class="form-group col-4 col-sm-4 col-md-4" [ngClass]="category.editing?'show':'hide'">
            <button class="btn btn-primary btn-block text-white pt-2 fa fa-lg fa-check" (click)="update(category)"></button>
          </div>
        </div>
      </li>
    </ul>

    <!-- Information -->
    <div class="form-inline" [hidden]="true">
      <small class="form-text text-muted">Want to Start fresh?</small>&nbsp;
      <small class="form-text">
        <a href="#" class="text-primary" routerLink='/signin'><u>Delete all categories</u>.</a>
      </small>
    </div>

  </form>
</div>
